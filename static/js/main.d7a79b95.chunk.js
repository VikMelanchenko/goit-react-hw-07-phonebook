(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{37:function(t,e,n){},4:function(t,e,n){t.exports={Container:"ContactsForm_Container__1dhkF",panel__container:"ContactsForm_panel__container__3g1fS",form__item:"ContactsForm_form__item__MrJE0",filter__item:"ContactsForm_filter__item__TD8lh",input__item:"ContactsForm_input__item__1q26m",button__submit:"ContactsForm_button__submit__1vcLm",contact__list:"ContactsForm_contact__list__3rhrb",contact__item:"ContactsForm_contact__item__2wzlo"}},62:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n.n(a),o=n(9),i=n.n(o),u=(n(37),n(20)),s=n(4),b=n.n(s),j=n(7),l=n(11),m=n(13),f=function(t){return t.contacts.items},_=function(t){return t.contacts.filter},O=Object(m.a)([f,_],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),d={getContacts:f,getVisibleContacts:O,getFilter:_},h=n(2),p=Object(h.b)("contacts/fetchContactRequest"),v=Object(h.b)("contacts/fetchContactSuccess"),C=Object(h.b)("contacts/fetchContactError"),x=Object(h.b)("contacts/addContactRequest"),g=Object(h.b)("contacts/addContactSuccess"),F=Object(h.b)("contacts/addContactError"),N=Object(h.b)("contacts/removeContactRequest"),y=Object(h.b)("contacts/removeContactSuccess"),k=Object(h.b)("contacts/removeContactError"),w=Object(h.b)("contacts/changeFilter"),S=n(12),E=n.n(S);E.a.defaults.baseURL="http://localhost:4040";var q,L,R=function(){return function(t){t(p()),E.a.get("/contacts").then((function(e){var n=e.data;return t(v(n))})).catch((function(e){return t(C(e))}))}},A=function(t,e){return function(n){var c={name:t,number:e,complited:!1};n(x()),E.a.post("/contacts",c).then((function(t){var e=t.data;return n(g(e))})).catch((function(t){return n(F(t))}))}},D=function(t){return function(e){e(N()),E.a.delete("/contacts/".concat(t)).then((function(){return e(y(t))})).catch((function(t){return e(k(t))}))}},J=n(5),P=n(15),z=n(3),M=Object(h.c)([],(q={},Object(J.a)(q,v,(function(t,e){return e.payload})),Object(J.a)(q,g,(function(t,e){var n=e.payload;return[].concat(Object(P.a)(t),[n])})),Object(J.a)(q,y,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),q)),T=Object(h.c)(!1,(L={},Object(J.a)(L,p,(function(){return!0})),Object(J.a)(L,v,(function(){return!1})),Object(J.a)(L,C,(function(){return!1})),Object(J.a)(L,x,(function(){return!0})),Object(J.a)(L,g,(function(){return!1})),Object(J.a)(L,F,(function(){return!1})),Object(J.a)(L,N,(function(){return!0})),Object(J.a)(L,y,(function(){return!1})),Object(J.a)(L,k,(function(){return!1})),L)),V=Object(h.c)("",Object(J.a)({},w,(function(t,e){return e.payload}))),B=Object(z.c)({items:M,filter:V,loading:T});function I(t){var e=t.onSubmit,n=Object(a.useState)(""),r=Object(u.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)(""),m=Object(u.a)(s,2),_=m[0],O=m[1],d=Object(j.c)(),h=Object(j.d)(f),p=function(t){var e=t.target,n=e.name,c=e.value;switch(n){case"name":i(c);break;case"number":O(c);break;default:return}},v=function(){i(""),O("")};return Object(c.jsxs)("div",{className:b.a.panel__container,children:[Object(c.jsx)("h1",{children:"Phonebook"}),Object(c.jsxs)("form",{className:b.a.form__item,onSubmit:function(t){return t.preventDefault(),""===o?l.b.info("Please input name"):h.find((function(t){return t.name===o}))?l.b.error("".concat(o," is already in contacts")):(d(A(o,_)),e(o,_),void v())},children:[Object(c.jsx)("h2",{children:"Add a new contact"}),Object(c.jsxs)("label",{children:["Name",Object(c.jsx)("input",{className:b.a.input__item,type:"text",name:"name",value:o,placeholder:"enter contact name",onChange:p})]}),Object(c.jsxs)("label",{children:["Pnone number",Object(c.jsx)("input",{className:b.a.input__item,type:"tel",name:"number",value:_,placeholder:"enter phone number",onChange:p})]}),Object(c.jsx)("button",{className:b.a.button__submit,type:"submit",children:"Add contact"})]})]})}var U=function(){var t=Object(j.d)(_),e=Object(j.c)();return Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:[Object(c.jsx)("h1",{children:"Find contacts by name"}),Object(c.jsx)("input",{className:b.a.filter__item,type:"text",value:t,onChange:function(t){return e(w(t.target.value))}})]})})},G=Object(j.b)((function(t){return{contacts:d.getVisibleContacts(t)}}),(function(t){return{fetchContacts:function(){return t(R())}}}))((function(t){var e=t.contacts,n=Object(j.c)();Object(a.useEffect)((function(){n(R())}),[n]);return 0===e.length?null:Object(c.jsxs)("div",{className:b.a.panel__container,children:[Object(c.jsx)(U,{}),Object(c.jsx)("ul",{className:b.a.form__item,children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(c.jsxs)("li",{className:b.a.input__item,children:[Object(c.jsxs)("span",{children:[a,": ",r]}),Object(c.jsx)("button",{className:b.a.button__submit,onClick:function(){return function(t){return n(D(t))}(e)},children:"Delete"})]},e)}))})]})}));n(61);function H(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(I,{onSubmit:function(t){console.log(t)}}),Object(c.jsx)(l.a,{position:"top-center",autoClose:2e3}),Object(c.jsx)(G,{})]})}var K=function(t){var e=t.children;return Object(c.jsx)("div",{className:b.a.Container,children:e})},Q=n(31),W=n.n(Q),X=n(8),Y=[].concat(Object(P.a)(Object(h.d)({serializableCheck:{ignoredActions:[X.a,X.f,X.b,X.c,X.d,X.e]}})),[W.a]),Z=Object(h.a)({reducer:{contacts:B},middleware:Y,devTools:!1});i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(j.a,{store:Z,children:Object(c.jsx)(K,{children:Object(c.jsx)(H,{})})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.d7a79b95.chunk.js.map